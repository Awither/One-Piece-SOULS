<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Soul-Soul Fruit Workshop</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <!-- GLOBAL ERROR BANNER -->
  <div id="app-error-banner" class="error-banner hidden">
    <span id="app-error-text"></span>
    <button id="app-error-close">X</button>
  </div>

  <!-- APP SHELL -->
  <div class="app-shell">

    <!-- HEADER -->
    <header class="app-header">
      <div class="header-inner">
        <div>
          <h1 class="app-title">Soul-Soul Fruit Control Panel</h1>
          <p class="app-subtitle">
            Harvest souls, craft homies, shape domains, forge abilities, and manage combat tools.
          </p>
        </div>

        <!-- TAB STRIP -->
        <nav class="top-tabs">
          <button class="tab-button" data-panel="souls">Souls</button>
          <button class="tab-button" data-panel="homies">Homies</button>
          <button class="tab-button" data-panel="abilities">Abilities</button>
          <button class="tab-button" data-panel="domains">Domains</button>
          <button class="tab-button" data-panel="play">Playable View</button>
        </nav>
      </div>
    </header>

    <!-- MAIN WRAPPER -->
    <main class="app-main">
      <div class="app-main-inner">

        <!-- PANEL 1 — SOULS -->
        <section class="panel" data-panel-id="souls">
          <h2 class="panel-title">Panel 1 – Soul Rating & Soul Bank</h2>

          <div class="panel-grid">

            <!-- LEFT: SOUL FORM -->
            <div class="panel-column">
              <div class="subpanel">
                <h3 class="subpanel-title">Create / Analyze a Soul</h3>

                <div class="form-grid">

                  <div class="form-row full">
                    <label for="soul-name">Creature Name</label>
                    <input id="soul-name" type="text" placeholder="Kaido" />
                  </div>

                  <div class="form-row">
                    <label for="soul-might">Raw Might (1–10)</label>
                    <input id="soul-might" type="number" min="1" max="10" />
                  </div>

                  <div class="form-row">
                    <label for="soul-tier">Proficiency Tier</label>
                    <select id="soul-tier">
                      <option value="0">0 – Scrub</option>
                      <option value="1">1 – Rookie</option>
                      <option value="2">2 – Rising Threat</option>
                      <option value="3">3 – Veteran</option>
                      <option value="4">4 – Elite</option>
                      <option value="5">5 – Warlord</option>
                      <option value="6">6 – Admiral</option>
                      <option value="7">7 – Yonko</option>
                      <option value="8">8 – Monster</option>
                      <option value="9">9 – Mythical</option>
                    </select>
                  </div>

                  <div class="form-row">
                    <label for="soul-will">Willpower (1–10)</label>
                    <input id="soul-will" type="number" min="1" max="10" />
                  </div>

                  <div class="form-row full">
                    <label for="soul-tags">Traits / Tags</label>
                    <input id="soul-tags" type="text" placeholder="zealot, marine, stubborn" />
                  </div>

                  <div class="form-row full">
                    <label for="soul-notes">Notes</label>
                    <textarea id="soul-notes" rows="2"></textarea>
                  </div>

                </div>

                <!-- Derived Stats -->
                <div class="derived-grid">
                  <div>
                    <div class="stat-label">Combined Rating</div>
                    <div id="soul-rating" class="stat-value">0</div>
                  </div>
                  <div>
                    <div class="stat-label">Level (SoL)</div>
                    <div id="soul-level" class="stat-value">1</div>
                  </div>
                  <div>
                    <div class="stat-label">Soul Energy (SPU)</div>
                    <div id="soul-spu" class="stat-value">0</div>
                  </div>
                  <div>
                    <div class="stat-label">Max HP Lost</div>
                    <div id="soul-hp" class="stat-value">2</div>
                  </div>
                </div>

                <div class="button-row">
                  <button id="btn-recalc-soul" class="btn secondary">Recalculate</button>
                  <button id="btn-add-soul" class="btn primary">Add to Bank</button>
                </div>
              </div>
            </div>

            <!-- RIGHT: SOUL BANK -->
            <div class="panel-column">
              <div class="subpanel">
                <h3 class="subpanel-title">Soul Bank</h3>

                <div class="form-row full">
                  <label for="soul-filter">Filter</label>
                  <input id="soul-filter" type="text" class="filter-input" placeholder="Search..." />
                </div>

                <div id="soul-bank-list" class="card-list"></div>
              </div>
            </div>

          </div>
        </section>

        <!-- PANEL 2 — HOMIES -->
        <section class="panel" data-panel-id="homies">
          <h2 class="panel-title">Panel 2 – Homies (Creation & Management)</h2>

          <div class="panel-grid">

            <!-- LEFT: CREATE HOMIE -->
            <div class="panel-column">
              <div class="subpanel">
                <h3 class="subpanel-title">Create a Homie</h3>

                <div class="form-grid">

                  <div class="form-row full">
                    <label for="homie-name">Homie Name</label>
                    <input id="homie-name" type="text" placeholder="Zeus" />
                  </div>

                  <div class="form-row">
                    <label for="homie-type">Type</label>
                    <select id="homie-type">
                      <option>Signature Homie</option>
                      <option>Territory Homie</option>
                      <option>Minor Homie</option>
                      <option>Buff Homie</option>
                    </select>
                  </div>

                  <div class="form-row">
                    <label for="homie-linked-soul">Linked Soul</label>
                    <select id="homie-linked-soul" data-soul-options></select>
                  </div>

                  <div class="form-row">
                    <label for="homie-spu">SPU Investment</label>
                    <input id="homie-spu" type="number" min="0" />
                  </div>

                  <div class="form-row">
                    <label for="homie-role">Role</label>
                    <input id="homie-role" type="text" placeholder="Artillery / Support" />
                  </div>

                  <div class="form-row">
                    <label for="homie-hp">HP</label>
                    <input id="homie-hp" type="number" />
                  </div>

                  <div class="form-row">
                    <label for="homie-ac">AC</label>
                    <input id="homie-ac" type="number" />
                  </div>

                  <div class="form-row">
                    <label for="homie-move">Movement</label>
                    <input id="homie-move" type="number" />
                  </div>

                  <div class="form-row full">
                    <label for="homie-attack">Primary Attack</label>
                    <input id="homie-attack" type="text" placeholder="2d12 lightning" />
                  </div>

                  <div class="form-row full">
                    <label for="homie-personality">Personality</label>
                    <input id="homie-personality" type="text" placeholder="greedy, boastful..." />
                  </div>

                  <div class="form-row full">
                    <label for="homie-location">Location</label>
                    <input id="homie-location" type="text" />
                  </div>

                  <div class="form-row full">
                    <label for="homie-domain">Assigned Domain</label>
                    <select id="homie-domain" data-domain-options></select>
                  </div>

                  <div class="form-row full">
                    <label for="homie-support">Notes / Buffs</label>
                    <textarea id="homie-support" rows="3"></textarea>
                  </div>

                </div>

                <div class="button-row">
                  <button id="btn-create-homie" class="btn primary">Create Homie</button>
                </div>
              </div>
            </div>

            <!-- RIGHT: ROSTER -->
            <div class="panel-column">
              <div class="subpanel">
                <h3 class="subpanel-title">Homie Roster</h3>

                <div class="form-row full">
                  <label for="homie-filter">Filter Homies</label>
                  <input id="homie-filter" type="text" class="filter-input" placeholder="Search..." />
                </div>

                <div id="homie-roster-list" class="card-list"></div>
              </div>
            </div>

          </div>
        </section>

        <!-- PANEL 3 — ABILITIES -->
        <section class="panel" data-panel-id="abilities">
          <h2 class="panel-title">Panel 3 – Ability Cards (Manual & AI)</h2>

          <div class="panel-grid">

            <!-- LEFT: INPUTS -->
            <div class="panel-column">
              <div class="subpanel">
                <h3 class="subpanel-title">Manual Ability</h3>

                <div class="form-grid">

                  <div class="form-row full">
                    <label for="manual-ability-name">Ability Name</label>
                    <input id="manual-ability-name" type="text" />
                  </div>

                  <div class="form-row">
                    <label for="manual-ability-power">Power (1–10)</label>
                    <input id="manual-ability-power" type="number" min="1" max="10" />
                  </div>

                  <div class="form-row full">
                    <label for="manual-ability-short">Short Summary</label>
                    <textarea id="manual-ability-short" rows="2"></textarea>
                  </div>

                  <div class="form-row">
                    <label for="manual-ability-action">Action Type</label>
                    <input id="manual-ability-action" type="text" />
                  </div>

                  <div class="form-row">
                    <label for="manual-ability-range">Range</label>
                    <input id="manual-ability-range" type="text" />
                  </div>

                  <div class="form-row">
                    <label for="manual-ability-target">Target</label>
                    <input id="manual-ability-target" type="text" />
                  </div>

                  <div class="form-row">
                    <label for="manual-ability-save">Save</label>
                    <input id="manual-ability-save" type="text" />
                  </div>

                  <div class="form-row">
                    <label for="manual-ability-dc">DC</label>
                    <input id="manual-ability-dc" type="number" />
                  </div>

                  <div class="form-row">
                    <label for="manual-ability-damage">Damage</label>
                    <input id="manual-ability-damage" type="text" />
                  </div>

                  <div class="form-row full">
                    <label for="manual-ability-effect">Full Effect Description</label>
                    <textarea id="manual-ability-effect" rows="4"></textarea>
                  </div>

                  <div class="form-row full">
                    <label for="manual-ability-combo">Combo Notes</label>
                    <textarea id="manual-ability-combo" rows="2"></textarea>
                  </div>

                  <div class="form-row full">
                    <label for="manual-ability-assign">Assign To</label>
                    <select id="manual-ability-assign">
                      <option value="general">General</option>
                    </select>
                  </div>

                </div>

                <div class="button-row">
                  <button id="btn-manual-ability-save" class="btn primary">Save Ability</button>
                </div>
              </div>

              <div class="subpanel">
                <h3 class="subpanel-title">AI Ability Generator</h3>

                <div class="form-grid">

                  <div class="form-row">
                    <label for="ai-ability-power">Power (1–10)</label>
                    <input id="ai-ability-power" type="number" min="1" max="10" />
                  </div>

                  <div class="form-row">
                    <label for="ai-ability-role">Role</label>
                    <select id="ai-ability-role">
                      <option>Offense</option>
                      <option>Defense</option>
                      <option>Support</option>
                      <option>Control</option>
                      <option>Utility</option>
                      <option>Reality-Bending</option>
                    </select>
                  </div>

                  <div class="form-row full">
                    <label for="ai-ability-prompt">Concept</label>
                    <textarea id="ai-ability-prompt" rows="3"></textarea>
                  </div>

                  <div class="form-row full">
                    <label for="ai-ability-assign">Assign To</label>
                    <select id="ai-ability-assign">
                      <option value="general">General</option>
                    </select>
                  </div>

                </div>

                <div class="button-row">
                  <button id="btn-ai-ability-generate" class="btn primary">Generate Ability</button>
                  <button id="btn-ai-ability-reroll" class="btn secondary">Reroll Last</button>
                </div>
              </div>
            </div>

            <!-- RIGHT: ABILITY LIST -->
            <div class="panel-column">
              <div class="subpanel">
                <h3 class="subpanel-title">All Abilities</h3>

                <div class="form-row full">
                  <label for="ability-filter">Filter Abilities</label>
                  <input id="ability-filter" type="text" class="filter-input" placeholder="Search..." />
                </div>

                <div id="ability-list" class="card-list ability-card-list"></div>
              </div>
            </div>

          </div>
        </section>

        <!-- PANEL 4 — DOMAINS -->
        <section class="panel" data-panel-id="domains">
          <h2 class="panel-title">Panel 4 – Domains & Lair Actions</h2>

          <div class="panel-grid">

            <!-- LEFT: DOMAIN CREATION -->
            <div class="panel-column">
              <div class="subpanel">
                <h3 class="subpanel-title">Create a Domain</h3>

                <div class="form-grid">

                  <div class="form-row full">
                    <label for="domain-name">Domain Name</label>
                    <input id="domain-name" type="text" />
                  </div>

                  <div class="form-row">
                    <label for="domain-tier">Tier</label>
                    <input id="domain-tier" type="number" min="1" max="10" />
                  </div>

                  <div class="form-row">
                    <label for="domain-spu">SPU</label>
                    <input id="domain-spu" type="number" min="0" />
                  </div>

                  <div class="form-row">
                    <label for="domain-dc">Fear DC</label>
                    <input id="domain-dc" type="number" />
                  </div>

                  <div class="form-row">
                    <label for="domain-range">Range</label>
                    <input id="domain-range" type="text" placeholder="100 miles" />
                  </div>

                  <div class="form-row full">
                    <label for="domain-personality">Personality</label>
                    <textarea id="domain-personality" rows="2"></textarea>
                  </div>

                  <div class="form-row full">
                    <label for="domain-notes">Notes</label>
                    <textarea id="domain-notes" rows="2"></textarea>
                  </div>

                  <div class="form-row full">
                    <label for="domain-homies">Assign Territory Homies</label>
                    <select id="domain-homies" data-homie-options multiple size="5"></select>
                  </div>

                </div>

                <div class="button-row">
                  <button id="btn-create-domain" class="btn primary">Save Domain</button>
                </div>
              </div>

              <div class="subpanel">
                <h3 class="subpanel-title">Domains Overview</h3>

                <div class="form-row full">
                  <label for="domain-filter">Filter</label>
                  <input id="domain-filter" type="text" class="filter-input" placeholder="Search..." />
                </div>

                <div id="domain-list" class="card-list"></div>
              </div>
            </div>

            <!-- RIGHT: LAIR GENERATOR -->
            <div class="panel-column">
              <div class="subpanel">
                <h3 class="subpanel-title">AI Lair Action Generator</h3>

                <div class="form-grid">

                  <div class="form-row">
                    <label for="lair-domain">Domain</label>
                    <select id="lair-domain" data-domain-options></select>
                  </div>

                  <div class="form-row">
                    <label for="lair-power">Power</label>
                    <input id="lair-power" type="number" min="1" max="10" />
                  </div>

                  <div class="form-row">
                    <label for="lair-count"># Actions</label>
                    <input id="lair-count" type="number" min="1" max="5" />
                  </div>

                  <div class="form-row full">
                    <label for="lair-prompt">Extra Notes</label>
                    <textarea id="lair-prompt" rows="3"></textarea>
                  </div>

                </div>

                <div class="button-row">
                  <button id="btn-lair-generate" class="btn primary">Generate</button>
                  <button id="btn-lair-reroll" class="btn secondary">Reroll</button>
                </div>
              </div>

              <div class="subpanel">
                <h3 class="subpanel-title">Lair Action Cards</h3>
                <div id="lair-card-list" class="card-list ability-card-list"></div>
              </div>
            </div>

          </div>
        </section>

        <!-- PANEL 5 — PLAYABLE VIEW -->
        <section class="panel" data-panel-id="play">
          <h2 class="panel-title">Panel 5 – Soul Party Dashboard (Playable View)</h2>
          <p class="panel-description">
            Live-updating combat dashboard for Homies, Domains, and Abilities.
          </p>

          <!-- HOMIES -->
          <div class="subpanel">
            <h3 class="subpanel-title">Homies</h3>
            <div id="play-homies" class="accordion-list"></div>
          </div>

          <!-- DOMAINS -->
          <div class="subpanel">
            <h3 class="subpanel-title">Domains</h3>
            <div id="play-domains" class="accordion-list"></div>
          </div>

          <!-- ALL ABILITIES -->
          <div class="subpanel">
            <h3 class="subpanel-title">All Abilities (Quick Reference)</h3>
            <div id="play-abilities" class="card-list ability-card-list"></div>
          </div>

        </section>

      </div>
    </main>
  </div>

  <script src="script.js"></script>
</body>
</html>
